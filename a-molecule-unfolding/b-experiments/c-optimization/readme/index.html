<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.79.1"><meta name=description content><link rel="shortcut icon" href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/images/favicon.ico type=image/x-icon><title>Optimization And Analysis :: Quantum Computing Solution</title><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/nucleus.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/fontawesome-all.min.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/hybrid.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/featherlight.min.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/perfect-scrollbar.min.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/auto-complete.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/atom-one-dark-reasonable.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/theme.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/tabs.css?1632907697 rel=stylesheet><link href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/css/hugo-theme.css?1632907697 rel=stylesheet><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/jquery-3.3.1.min.js?1632907697></script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"></script><script type=text/x-mathjax-config>
      MathJax.Hub.Config({ tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} })
    </script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/c-optimization/readme/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/><img src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/images/logo.png alt="AWS Logo" width=44% height=44%></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/lunr.min.js?1632907697></script><script type=text/javascript src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/auto-complete.js?1632907697></script><script type=text/javascript>var baseurl="https:\/\/gcr-solutions.github.io\/quantum-computing-for-life-science-workshop\/";</script><script type=text/javascript src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/search.js?1632907697></script></div><div class=highlightable><ul class=topics><li data-nav-id=/a-molecule-unfolding/ title="Molecule Unfolding" class="dd-item
parent"><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/>Molecule Unfolding</a><ul><li data-nav-id=/a-molecule-unfolding/0-prerequisite/ title=Prerequisite class=dd-item><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/0-prerequisite/>Prerequisite</a></li><li data-nav-id=/a-molecule-unfolding/a-background/ title=Background class=dd-item><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/a-background/>Background</a></li><li data-nav-id=/a-molecule-unfolding/b-experiments/ title=Experiments class="dd-item
parent"><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/>Experiments</a><ul><li data-nav-id=/a-molecule-unfolding/b-experiments/a-environment/readme/ title="Set Up Your Envrionments" class=dd-item><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/a-environment/readme/>Set Up Your Envrionments</a></li><li data-nav-id=/a-molecule-unfolding/b-experiments/b-model/readme/ title="Build The Model" class=dd-item><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/b-model/readme/>Build The Model</a></li><li data-nav-id=/a-molecule-unfolding/b-experiments/c-optimization/readme/ title="Optimization And Analysis" class="dd-item active"><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/c-optimization/readme/>Optimization And Analysis</a></li><li data-nav-id=/a-molecule-unfolding/b-experiments/d-batch/readme/ title="Batch Experiment" class=dd-item><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/d-batch/readme/>Batch Experiment</a></li></ul></li><li data-nav-id=/a-molecule-unfolding/c-cleanup/ title="Clean Up" class=dd-item><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/c-cleanup/>Clean Up</a></li><li data-nav-id=/a-molecule-unfolding/d-reference/ title=Reference class=dd-item><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/d-reference/>Reference</a></li></ul></li></ul><section id=footer><left><a class=github-button href=https://github.com/gcr-solutions/quantum-computing-for-life-science data-icon=octicon-cloud-download aria-label="Repo of gcr-solutions/quantum-computing-for-life-science on GitHub">Repo</a>
<a class=github-button href=https://github.com/gcr-solutions/quantum-computing-for-life-science data-icon=octicon-star data-show-count=false aria-label="Star gcr-solutions/quantum-computing-for-life-science on GitHub">Star</a>
<a class=github-button href=https://github.com/gcr-solutions/quantum-computing-for-life-science/fork data-icon=octicon-repo-forked data-show-count=false aria-label="Fork gcr-solutions/quantum-computing-for-life-science on GitHub">Fork</a><p><a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | © 2021, Amazon Web Services, Inc. or its affiliates. All rights reserved</p></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/>Quantum Computing For Drug Discovery Workshop</a> > <a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/>Molecule Unfolding</a> > <a href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/>Experiments</a> > Optimization And Analysis</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#adjust-parameters-for-optimization>Adjust Parameters For Optimization</a></li><li><a href=#run-optimizers>Run Optimizers</a><ul><li><a href=#classical-optimizer-for-qubo>Classical Optimizer for QUBO</a></li><li><a href=#quantum-optimizer-for-qubo>Quantum Optimizer for QUBO</a></li></ul></li><li><a href=#analyze-the-quality>Analyze The Quality</a></li><li><a href=#analyze-the-efficiency>Analyze The Efficiency</a><ul><li><a href=#性能比较图---1>性能比较图 - 1</a></li><li><a href=#性能比较图---2>性能比较图 - 2</a></li></ul></li><li><a href=#carry-out-the-batch-test>Carry Out The Batch Test</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Optimization And Analysis</h1><h2 id=adjust-parameters-for-optimization>Adjust Parameters For Optimization</h2><p>We have our QUBO model for experiments. There are some parameters we should define for optimization.</p><table><thead><tr><th>Parameter</th><th>Description</th><th>Value</th></tr></thead><tbody><tr><td>A</td><td>penalty scalar</td><td>1000</td></tr><tr><td>hubo_qubo_val</td><td>energy penalty of make_quadratic()</td><td>5</td></tr><tr><td>n_c</td><td>number of shots for simulated annealing in local instance</td><td>1000</td></tr><tr><td>n_q</td><td>number of shots for quantum annealing in QPU</td><td>1000</td></tr><tr><td>M</td><td>number of torsions for molecule unfolding</td><td>[1, all the torsions]</td></tr><tr><td>D</td><td>angle precision of rotation</td><td>8</td></tr></tbody></table><p>We use the following code to set the parameters:</p><p><img src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/images/parameter.png alt=Parameter></p><h2 id=run-optimizers>Run Optimizers</h2><p>After setting the parameters, we can run the optimization on classic device and quantum device.</p><h3 id=classical-optimizer-for-qubo>Classical Optimizer for QUBO</h3><p><img src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/images/classical.png alt=Classical></p><h3 id=quantum-optimizer-for-qubo>Quantum Optimizer for QUBO</h3><p><img src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/images/quantum.png alt=Quantum></p><h2 id=analyze-the-quality>Analyze The Quality</h2><p>After some time, we get the results. As the result indicates, the best answer of quantum annealer only
occurs once.</p><p><img src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/images/one-time-qa.png alt=OneTimeQA></p><p>This does not always indicate an error. It is actually the characteristic of the problem or how the problem
is formulated. Because we have different linear and quadratic terms that vary by many orders of magnitude. If we
set change value of $A$ to some smaller number, like 10 or 100, more occurrences of the best answer will be observed.
However, these answers usually break the constraints. For more information about this phenomenon, please refer to this
<a href="https://support.dwavesys.com/hc/en-us/community/posts/1500000698522-Number-of-occurrences-?input_string=number%20occurance">Link</a>.</p><p>After that, we need some postprocessing to get the results. What we really want are the desired angles of all the torsion.</p><p><img src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/images/PostProcess.png alt=Postprocess></p><p>We test different values of $M$, and we find that when $M > 5$, the quantum annealer can not embed it into its quantum circuit. When
$M &lt; 3$, we can get comparable results from quantum annealer. In other cases, the results from the quantum annealer are not stable.
This is interesting that we cannot get the similar results as the publication explains. Any discussion or help is welcome!</p><table><thead><tr><th>M</th><th>d</th><th>Results</th></tr></thead><tbody><tr><td>1</td><td>4</td><td>Comparable</td></tr><tr><td>2</td><td>4</td><td>Comparable</td></tr><tr><td>3</td><td>4</td><td>Comparable</td></tr><tr><td>4</td><td>4</td><td>Not Stable</td></tr><tr><td>5</td><td>4</td><td>Not Stable</td></tr><tr><td>>5</td><td>4</td><td>Not Available (Embedding Fail)</td></tr></tbody></table><h2 id=analyze-the-efficiency>Analyze The Efficiency</h2><p>In this workshop, we have test the efficiency of model with different complexity, $ M * d $, on different devices. We test SA on ml.c5.4xlarge,
ml.m5.4xlarge, and ml.r5.4xlarge. We also test QA on DW_2000Q_6 and Advantage_system1.1. The result shows that, if the tasks run with the same
number of shots (1000), the quantum annealer has really nice scaling ability for solving combinatorial problems. The Advantage_system1.1 only needs
3 minutes to solve the QUBO model ($M=5, d=8$), while all the classic computing instance needs over 3 hours. However, there&rsquo;s suspicion that there is
still much space for improvement in the SA implemented by D-Wave. More strict bench mark is needed.</p><h3 id=性能比较图---1>性能比较图 - 1</h3><p>If we change the number of shots for SA to 1, we get another group data for efficiency.</p><h3 id=性能比较图---2>性能比较图 - 2</h3><h2 id=carry-out-the-batch-test>Carry Out The Batch Test</h2><p>You can also conduct this test yourself.</p><p>Open the terminal and run the following script to create the following resource:</p><ul><li>ecr repository</li><li>sagemaker processing jobs</li><li>step function</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cd /home/ec2-user/
</code></pre></div><p>Change the config file the value you want:</p><p>Build the image:</p><p>Switch to your step function console and click the run icon:</p><p>Read the output of data</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/b-model/readme/ title="Build The Model"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/a-molecule-unfolding/b-experiments/d-batch/readme/ title="Batch Experiment" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/clipboard.min.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/perfect-scrollbar.min.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/perfect-scrollbar.jquery.min.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/jquery.sticky.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/featherlight.min.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/highlight.pack.js?1632907697></script><script>hljs.initHighlightingOnLoad();</script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/modernizr.custom-3.6.0.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/learn.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/js/hugo-learn.js?1632907697></script><script src=https://gcr-solutions.github.io/quantum-computing-for-life-science-workshop/mermaid/mermaid.js?1632907697></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>